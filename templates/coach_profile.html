{% extends "coach_layout.html" %}

{% block content %}
<main role="main" class="container mt-5">
  <h1 class="text-center text-white mb-4">Coach Profile</h1>

  <!-- Coach Details Section -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">
      Coach Details
    </div>
    <div class="card-body">
      <p><strong>Name:</strong> {{ coach.name }}</p>
      <p><strong>Email:</strong> {{ coach.email }}</p>
      <p><strong>Experience Level:</strong> {{ coach.experience or "N/A" }} years</p>
      <p><strong>Specialization:</strong> {{ coach.specialization or "General Fitness" }}</p>
    </div>
  </div>

  <!-- Students Under the Coach Section -->
  <div class="card mb-4">
    <div class="card-header bg-secondary text-white">
      Students Under Coach
    </div>
    <div class="card-body">
      {% if students %}
        <ul class="list-group">
          {% for student in students %}
            <li class="list-group-item">
              <strong>Name:</strong> {{ student.name }}<br>
              <strong>Email:</strong> {{ student.email }}<br>
              <strong>Progress:</strong> {{ student.progress or "Not Available" }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No students assigned to this coach.</p>
      {% endif %}
    </div>
  </div>

  <!-- Existing Reviews Section -->
  <div class="card mb-4">
    <div class="card-header bg-dark text-white">
      Reviews Received
    </div>
    <div class="card-body">
      {% if reviews %}
        <ul class="list-group">
          {% for review in reviews %}
            <li class="list-group-item">
              <strong>{{ review.name }}:</strong> {{ review.review }}<br>
              <small class="text-muted">Date: {{ review.date }}</small><br>
              <small class="text-muted">From: {{ review.student_email }}</small>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No reviews available.</p>
      {% endif %}
    </div>
  </div>
</main>

<style>
  /* Sticky footer styles */
  body, html {
    height: 100%;
    margin: 0;
    display: flex;
    flex-direction: column;
  }

  main.container {
    flex: 1;
  }

  footer {
    margin-top: auto;
  }
</style>
{% endblock %}
